<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<script src="H20213592-231011/videoResource.js">
	</script>
	<style>
		body{
			text-align: center;
		}
		div#logo{
		font-size:80px;
		background-color:green;
		position:absolute;
		right:0;
		}
		input#currentTime{
		 font-size:20px;
		background-color:red;
		position:absolute;
		left:0;
		}
		div#audioDiv{
			margin-left: 40%;
		}
	</style>
	<body>
		<!-- 右侧遮挡 -->
		<div id="logo" >
			No.1/118
		</div>
		<input type="text"value="0s"id="currentTime">
		<video src="../media/mp4/v02004040000bpa9p3egncoejcefuv4g"  id="video"></video>
		<div id="AnNiu">
			<input type="button" value="PLAY" id="play">
			<input type="button" value="STOP" id="STOP">
			<input type="button" value="PRE" id="PRE">
			<input type="button" value="NEXT" id="NEXT">
			<input type="text" value="1" id="videoNO"/>
			<input type="button" value="search" id="search"/>
		</div>
		<div id="YinPin">
			<input type="button" value="ToAudio" id="change"/>
		</div>
		<div id="audioDiv">
		<audio src="../media/mp3/cs1.mp3" id="audio" style="display: none;" controls></audio>
		</div>
	</body>
	<script>
		var model = {};
		model.ui = {};
		model.ui.video=document.getElementById("video");  /* 抓取video的对象,用于播放视频 */
		model.ui.play=document.getElementById("play");	 /* 抓取video的对象,用于播放视频 */	 	
		model.ui.stop=document.getElementById("STOP");	 /* 抓取video的对象,用于播放视频 */
		model.ui.next=document.getElementById("NEXT");	 /* 抓取video的对象,用于播放视频 */
		model.ui.preview=document.getElementById("PRE");  /* 抓取video的对象,用于播放视频 */
		model.ui.videoNO=document.getElementById("videoNO"); /* 抓取video的对象,用于播放视频 */
		model.ui.audio=document.getElementById("audio"); /* 用于抓取audio */
		model.ui.search=document.getElementById("search");	/* 抓取video的对象,用于播放视频 */
		model.ui.change=document.getElementById("change"); /*用于抓取音频的转换按钮*/
		model.ui.currentTime=document.getElementById("currentTime"); /* 抓取时间显示div */
		model.ui.logo=document.getElementById("logo");
		model.i=0; /* 用于计算视频的演进位置,即第几个视频 */
		model.flag=true /* 用于标记音频和视频的交换 */
		
		
		model.ui.video.style.width = document.body.clientWidth + 'px';
		var vedioWidth = document.body.clientWidth;
		/* 
		videoNO.value=i; 用于刷新视频的显示编号
		 */
		window.setInterval(function(){
		model.ui.currentTime.value=parseInt(model.ui.video.currentTime)+'s';
		if (vedioWidth != document.body.clientWidth){
			model.ui.video.style.width = document.body.clientWidth + "px";
		}
		 },1000);
		
		model.ui.play.onclick=function(){
			video.play();
			videoNO.value=i+1;    
		}
		
		model.ui.stop.onclick=function(){
			video.pause();
		}
		
		model.ui.next.onclick=function(){
			model.i++;
			if(model.i==118)
			model.i=0;
			video.src="../media/mp4/"+map4[model.i];
			video.play();
			videoNO.value=model.i + 1;
			logo.innerText  = model.i + 1 + "/118";
		}
		
		model.ui.preview.onclick=function(){
			if(model.i==0)
			model.i=118;
			model.i--;
			video.src="../media/mp4/"+map4[model.i];
			video.play();
			videoNO.value=model.i +1;
			logo.innerText  = model.i + 1 + "/118";
		}
		
		model.ui.search.onclick=function(){
				if(Number(videoNO.value)){
				video.src="../media/mp4/"+map4[videoNO.value-1];
				model.i=Number(videoNO.value);
				}
				else{
					alert("输入的是非数字,请重新输入");
				}
		}

		model.ui.change.onclick=function(){
			if(model.flag){
				change.value="ToVideo";
				model.ui.audio.style.display = "block"; 
				model.ui.video.style.display = "none";
				model.ui.logo.style.display = "none";
				model.ui.currentTime.style.display = "none";
				alert("this is Audio");
				model.flag = false;
			}else{
				change.value="ToAudio";
				model.ui.audio.style.display = "none";
				model.ui.video.style.display = "block";
				model.ui.logo.style.display = "block";
				model.ui.currentTime.style.display = "block";
				alert("this is Video");
				model.flag = true;
			}
		}
	</script>
</html>